---
import { SEO } from "astro-seo";
import type { ComponentProps } from "astro/types";

interface Props
  extends Pick<
    ComponentProps<typeof SEO>,
    "title" | "description" | "noindex" | "nofollow"
  > {
  image?: NonNullable<
    ComponentProps<typeof SEO>["openGraph"]
  >["basic"]["image"];
  imageAlt?: string;
  url?: NonNullable<ComponentProps<typeof SEO>["openGraph"]>["basic"]["url"];
}

const {
  title,
  description = "hmzelidrissi.ma – A developer who aims to evolve, innovate, and inspire through technology.",
  image = new URL("/og-image.jpg", Astro.site).toString(),
  imageAlt,
  noindex = false,
  nofollow = false,
  url = Astro.url,
} = Astro.props;

const ogImageAlt = "Hamza El Idrissi";
const titleDefault =
  "hmzelidrissi.ma – A developer who aims to evolve, innovate, and inspire through technology.";
---

<SEO
  title={`${title} | ${titleDefault}`}
  titleTemplate="%s | hmzelidrissi.ma"
  titleDefault={titleDefault}
  description={description || titleDefault}
  noindex={noindex ?? false}
  nofollow={nofollow ?? false}
  openGraph={{
    basic: {
      title: title || titleDefault,
      type: "website",
      image: image,
      url: url ?? "",
    },
    optional: {
      description,
      locale: "en_US",
    },
    image: {
      alt: imageAlt ?? ogImageAlt,
    },
  }}
  twitter={{
    card: "summary_large_image",
    title: title ?? titleDefault ?? "",
    description: description ?? "",
    image: image,
    imageAlt: imageAlt ?? ogImageAlt,
  }}
/>
